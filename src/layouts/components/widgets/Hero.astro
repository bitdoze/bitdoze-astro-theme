---
import { Icon } from 'astro-icon/components';
import social from '@config/social.json';

const socialLinks = Object.entries(social).filter(([_, url]) => url?.trim());

const iconMap: Record<string, string> = {
  facebook: 'mdi:facebook', twitter: 'mdi:twitter', instagram: 'mdi:instagram',
  youtube: 'mdi:youtube', linkedin: 'mdi:linkedin', github: 'mdi:github',
  reddit: 'mdi:reddit', whatsapp: 'mdi:whatsapp', email: 'mdi:email'
};
---

<section class="py-12 md:py-20 text-center">
  <h1 class="text-4xl md:text-5xl font-bold tracking-tight mb-4 text-gray-900 dark:text-white">
    Welcome to <span class="bg-linear-to-r from-blue-500 to-indigo-500 bg-clip-text text-transparent">Bit Doze</span>
  </h1>
  <p class="text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto mb-8">
    Join the community to find out more about VPS, blogging, CMS.
  </p>
  
  {socialLinks.length > 0 && (
    <div class="flex justify-center gap-3">
      {socialLinks.map(([platform, url]) => {
        const isBluesky = (url as string).includes('bsky.app');
        return (
          <a
            href={url as string}
            class="w-11 h-11 flex items-center justify-center rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-blue-500 hover:text-white transition-all hover:scale-110"
            aria-label={platform}
          >
            {isBluesky ? (
              <svg class="w-5 h-5" viewBox="0 0 512 512" fill="currentColor">
                <path d="M111.8 62.2C170.2 105.9 233 194.7 256 242.4c23-47.6 85.8-136.4 144.2-180.2c42.1-31.6 110.3-56 110.3 21.8c0 15.5-8.9 130.5-14.1 149.2C478.2 298 412 314.6 353.1 304.5c102.9 17.5 129.1 75.5 72.5 133.5c-107.4 110.2-154.3-27.6-166.3-62.9l0 0c-1.7-4.9-2.6-7.8-3.3-7.8s-1.6 3-3.3 7.8l0 0c-12 35.3-59 173.1-166.3 62.9c-56.5-58-30.4-116 72.5-133.5C100 314.6 33.8 298 15.7 233.1C10.4 214.4 1.5 99.4 1.5 83.9c0-77.8 68.2-53.4 110.3-21.8z"/>
              </svg>
            ) : (
              <Icon name={iconMap[platform] || 'mdi:link'} class="w-5 h-5" />
            )}
          </a>
        );
      })}
    </div>
  )}
</section>
